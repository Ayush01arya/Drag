<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sentence Structure OrgChart</title>
    <link rel="stylesheet" href="https://cdn.rawgit.com/dabeng/OrgChart/master/dist/css/orgchart.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/orgchart/2.1.3/css/jquery.orgchart.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/orgchart/2.1.3/js/jquery.orgchart.min.js"></script>

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        #chart-container {
            height: 420px;
            border: 2px dashed #aaa;
            border-radius: 5px;
            overflow: auto;
            text-align: center;
            margin-top: 20px;
        }

        .orgchart {
            background: #fff;
        }
        .orgchart td.left, .orgchart td.right, .orgchart td.top {
            border-color: #aaa;
        }
        .orgchart td>.down {
            background-color: #aaa;
        }
        .orgchart .subject .title {
            background-color: #006699;
        }
        .orgchart .verb .title {
            background-color: #009933;
        }
        .orgchart .object .title {
            background-color: #993366;
        }
        .orgchart .adjective .title {
            background-color: #996633;
        }
        .orgchart .adverb .title {
            background-color: #cc0066;
        }
        .orgchart .unknown .title {
            background-color: #ffcc00; /* Yellow for unknown */
        }

        #github-link {
            position: fixed;
            top: 0px;
            right: 10px;
            font-size: 3em;
        }

        #input-container {
            margin-bottom: 20px;
        }

        #check-button {
            padding: 10px 15px;
            background-color: #006699;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="input-container">
        <h2>Enter a Sentence:</h2>
        <input type="text" id="sentence-input" placeholder="e.g., The cat runs quickly" style="width: 300px; padding: 5px;">
        <button id="check-button">Check Sentence</button>
    </div>

    <div id="chart-container"></div>


    <script>
        'use strict';

        // Expanded list of parts of speech
        const partsOfSpeech = {
            subject: ["cat", "dog", "boy", "girl", "teacher", "student", "car", "man", "woman"],
            verb: ["runs", "jumps", "is", "sees", "watches", "plays", "likes", "hates"],
            object: ["ball", "park", "home", "movie", "food", "music"],
            adjective: ["fast", "blue", "happy", "big", "small", "tall"],
            adverb: ["quickly", "happily", "silently", "loudly", "suddenly"],
        };

        // Function to analyze the sentence and create the org chart
        function analyzeSentence(sentence) {
            const words = sentence.split(' ');
            let structure = {
                'name': 'Sentence Structure',
                'title': 'Understanding Parts of Speech',
                'children': []
            };

            words.forEach(word => {
                let found = false;

                // Identify the part of speech for each word
                for (const [key, values] of Object.entries(partsOfSpeech)) {
                    if (values.includes(word.toLowerCase())) {
                        structure.children.push({
                            'name': word,
                            'title': key.charAt(0).toUpperCase() + key.slice(1),
                            'className': key
                        });
                        found = true;
                        break;
                    }
                }

                // If word is not recognized, add it as an unknown word
                if (!found) {
                    structure.children.push({
                        'name': word,
                        'title': 'Not Found',
                        'className': 'unknown'
                    });
                }
            });

            return structure;
        }

        // Function to display the org chart
        function displayChart(data) {
            $('#chart-container').orgchart({
                'data': data,
                'nodeContent': 'title'
            });
        }

        // Event listener for the check button
        $('#check-button').on('click', function() {
            const sentence = $('#sentence-input').val().trim();
            if (sentence) {
                const sentenceStructure = analyzeSentence(sentence);
                displayChart(sentenceStructure);
            } else {
                alert('Please enter a sentence.');
            }
        });
    </script>
</body>
</html>
